---
name: try-and-review
description: 修正と自己レビューを3回繰り返す。「修正して」「自己レビュー」「try-and-review」といった依頼、または品質向上のためにレビューサイクルを繰り返したい場合に使用する。
---

# 修正と自己レビューの繰り返し

## 概要

**目的**: 修正と自己レビューを3回繰り返すことで、コードの品質を段階的に向上させる。

1回の修正では見落としがちな問題も、複数回のレビューサイクルを経ることで発見・修正できる。

---

## レビュー対象の確認

AskUserQuestion ツールを使って質問する。

**質問内容:**
- question: "レビュー対象は？"
- header: "対象"
- options:
  - label: "ローカルブランチ", description: "現在のブランチと main の差分をレビュー"
  - label: "GitHub PR", description: "現在のブランチPRの差分をレビュー"
  - label: "ローカル差分", description: "ローカルにある差分をレビュー"
  - label: "ステージ済みのローカル差分", description: "ローカルにあるステージ済みの差分をレビュー"

## 実行手順

以下のサイクルを **3回** 繰り返す:

### サイクル 1/3

1. **修正を実施**
   - 問題点を特定し、修正する
   - 修正内容を明確に記録する

2. **自己レビュー**
   - 修正が正しいか確認
   - 新たな問題が発生していないか確認
   - コードスタイル・可読性をチェック

### サイクル 2/3

1. **追加修正**
   - サイクル1で見落とした問題を修正
   - レビューで発見した改善点を反映

2. **自己レビュー**
   - 全体の整合性を確認
   - エッジケースを考慮

### サイクル 3/3

1. **最終修正**
   - 残りの問題を解決
   - コードの最終調整

2. **最終レビュー**
   - 全体を通してレビュー
   - 品質基準を満たしているか確認

---

## レビュー観点

各サイクルで以下の観点を確認する:

| 観点 | チェック内容 |
|------|-------------|
| 正確性 | 修正が問題を正しく解決しているか |
| 副作用 | 他の機能に影響を与えていないか |
| 可読性 | コードが読みやすいか |
| 一貫性 | 既存のコードスタイルに従っているか |
| テスト | テストが必要な場合、カバーされているか |

---

## 完了条件

- 3回のサイクルを完了した
- 各サイクルで発見した問題をすべて修正した
- 最終レビューで問題が見つからなかった
